<!DOCTYPE html>
<html lang="en">

<head>
    <title>Action Queries Demo</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!--    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>-->
    <!--    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>-->
    <script src="https://d3js.org/d3.v5.min.js"> </script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link rel="stylesheet" href="../static/jquery-ui.min.css">
    <script src="../static/external/jquery/jquery.js"></script>
    <script src="../static/jquery-ui.min.js"></script>
    <script src="../static/jquery-ui.js"></script>
    <link rel="stylesheet" href="../static/w3.css" />
    <link rel="stylesheet" href="../static/modal.css" />
    <link rel="stylesheet" href="../static/responsive.css" />
    <script type="text/javascript" src="../static/barchart.js"></script>
    <script type="text/javascript" src="../static/box.js"></script>
    <!-- <script src="../static/chart.js"></script> -->
    <script type="text/javascript" src="../static/score_plot.js"></script>
    <script type="text/javascript" src="../static/accuracy.js"></script>
    <script type="text/javascript" src="../static/video.js"></script>
    <script type="text/javascript" src="../static/utils.js"></script>
    <link href="https://vjs.zencdn.net/7.8.4/video-js.css" rel="stylesheet" />

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
        integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous">
    </script>

    <link href="https://unpkg.com/@videojs/themes@1/dist/city/index.css" rel="stylesheet">
    <!-- Forest -->
    <link href="https://unpkg.com/@videojs/themes@1/dist/forest/index.css" rel="stylesheet">

    <script type="text/javascript" src="../static/query_process.js"></script>


    <!-- If you'd like to support IE8 (for Video.js versions prior to v7) -->
    <script src="https://vjs.zencdn.net/ie8/1.1.2/videojs-ie8.min.js"></script>

    <script type="text/javascript" src="../static/offline.js"></script>

</head>

<body class="w3-content" style="max-width: 2000px; background-color: #d7d6d8;">
    <nav class="w3-sidebar w3-bar-block w3-white w3-collapse w3-top" style="z-index: 3; width: 350px;" id="mySidebar">
        <div class="w3-container w3-display-container w3-padding-16">
            <h2 class="w3-wide" style="letter-spacing: 4px;">
                SVAQ: Action Queries Demo
            </h2>
        </div>


        <div class="w3-large w3-text-grey" style="margin: 10% 1% 10% 0%;">
            <a onclick="myAccFunc()" href="/online" class="w3-button w3-block w3-left-align"
                style="background-color: #52658f; color: #fff;opacity: 0.3;">
                <b>Online Model</b>
                <i class="fa fa-caret-down"></i>
            </a>
            <br />
            <a onclick="" href="#" class="w3-btn w3-block w3-left-align disabled"
                style="background-color: #52658f; color: #fff;pointer-events: none;">
                <b>Offline Model</b>
            </a>
            <br />
        </div>

        <div class="w3-container w3-padding-32" style="margin: 0% 1% 0% 10%;">
            <a href="https://www.utoronto.ca/">
                <img src="./static/icons/logo.png" style="width: 80%;" />
            </a>

            <div style="margin: 20px 20px 20px 20px;">
                <span style="font-family: sans-serif; font-size: large;">
                    <a href="mailto:drchao@cs.toronto.edu">Get in Touch</a>
                </span>
                <br />
                <span style="font-family: sans-serif; font-size: large;">
                    <a href="http://www.cs.toronto.edu/~xarchakos/svq.html">Link to SVQ</a>
                </span>
            </div>
        </div>
    </nav>

    <div class="w3-main" id="Selection" style="margin-left: 350px; margin-right: 1%;">
        <div class="w3-row w3-padding-16" style="margin-top: 5%;">
            <div class="operation-penal w3-row w3-white" style="margin: 0% 5% 0% 5%; width: 90%">
                <label class="operation-penal-label" style="font-size: medium;">
                    <b>Query Definition</b>
                </label>

                <div class="w3-row-padding">
                    <div class="w3-col s5 m5 l5">
                        <p>
                            <b>
                                <span style="font-size: small;">1. Select Video Source</span>
                            </b>
                        </p>
                        <div class="w3-container" id="radio_data">
                            <div class="w3-half">
                                <input type="radio" id="cf" name="source" class="source"
                                    value="coffee_and_cigarettes" />
                                <label for="cf">Coffee and Cigarettes</label>
                            </div>
                            <div class="w3-half">
                                <input type="radio" id="fs" name="source" class="source" value="free_solo" />
                                <label for="fs">Free Solo</label>

                            </div>
                        </div>
                    </div>

                    <div class="w3-col s4 m4 l4">
                        <p>
                            <b>
                                <span style="font-size: small;">2. Select K</span>
                            </b>
                        </p>
                        <div class="w3-container" id="select_K" style="width: 60%;">
                            <div id="k_handle" class="ui-slider-handle" style="width: 3em;
                            height: 1.6em;
                            top: 50%;
                            margin-top: -.8em;
                            text-align: center;
                            line-height: 1.6em;"></div>
                        </div>
                    </div>
                    <div class="w3-col s3 m3 l3">
                        <p>
                            <b>
                                <span style="font-size: small;">Predicates</span>
                            </b>
                        </p>
                        <div class="w3-container" id="predicates"></div>
                    </div>
                </div>

                <div class="w3-row-padding" style="margin-top: 15px;">
                    <b>
                        <span style="font-size: medium;">SQL Query</span>
                    </b>
                    <div class="w3-container" style="padding-top: 1.5%;">
                        <div class="w3-container" id="sql_div" style="padding-right: 0;">
                            <textarea readonly class="w3-codespan" id="sql_text" rows="7"
                                style="width: 95%; font-size: 14px;"></textarea>
                        </div>
                    </div>
                    <div class="m4 w3-center" id="sql_btn" style="height:50%;width:20%;margin-left: 75%;">
                        <p>
                            <button id="run" class="w3-btn"
                                style="color:#fff;background-color:#31708f;border-color:#2e6da4;width:100%">
                                Run
                            </button>
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <div class="w3-main" id="Display" style="margin-left: 350px; margin-right: 1%;  display: none;">
        <!-- Second Page -->
        <div class="w3-row-padding w3-padding-16" style="height: 400px;">
            <div class="w3-margin-bottom" style="height: 100%; margin: auto;width: 50%; padding: 10px;">
                <ul class="w3-ul w3-border w3-white w3-center" style="height: 100%; ">
                    <li class="w3-large" style="background-color: #CB997E; color: #fff;">Query Progress</li>
                    <li class="w3-padding-16" id="display_query_process" style="height: 30%; display: none;">
                        <br>
                        <div class="progress" style="height: 30px;">
                            <div id="query_progress_bar" class="progress-bar" role="progressbar" style="width: 0%;"
                                aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
                        </div>
                    </li>
                    <li class="w3-padding-16" id="display_query_text" style="height: 50%; display: none; ">
                        <div class="row" style="height: 50%;">
                            <div class="col-sm">
                                Number of confidence top sequences
                            </div>
                            <div class="col-sm">
                                Number of random accesses
                            </div>
                            <div class="col-sm">
                                Predicates
                            </div>
                        </div>
                        <div class="row" style="font-size: 18px;">
                            <div id="sequence" class="col-sm">

                            </div>
                            <div id="random_access" class="col-sm">

                            </div>
                            <div id="display_predicate" class="col-sm">

                            </div>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
        <div class="w3-row-padding w3-padding-16" style="height: 400px;">

            <div class="w3-third w3-margin-bottom" style="height: 100%;">
                <ul class="w3-ul w3-border w3-white w3-center" style="height: 100%;">
                    <li class="w3-large" style="background-color: #CB997E; color: #fff;">Score</li>
                    <li class="w3-padding-8" id="display_score_text" style=" display: none; font-size: 18px;">
                        <div class="row">
                            <div class="col-sm">
                                Score for the sequence
                            </div>
                        </div>
                        <div class="row">
                            <div id="display_s_text" class="col-sm">
                            </div>
                        </div>
                    </li>
                    <li class="w3-padding-16" id="display_score_plot" style=" display: none; ">
                        <div class="row" id="display_s_plot" style=" margin: auto; ">
                        </div>
                    </li>
                </ul>
            </div>


            <div class="w3-third w3-margin-bottom" style="height: 100%; padding-left: 20px;">
                <ul class="w3-ul w3-border w3-white w3-center" style="height: 100%;">
                    <li class="w3-large" style="background-color: #C18C5D;color: #fff">Video</li>
                    <li class="w3-padding-16" id="video_container"
                        style="height: 70%; position:relative; display: none;">
                        <video id="video" class="video-js vjs-theme-city" preload="auto" style="max-width: 100%; max-height: 100%; height: 100%;position: relative;
                            display: inline-block;">
                            <p class="vjs-no-js">
                                To view this video please enable JavaScript, and consider upgrading to a
                                web browser that
                                <a href="https://videojs.com/html5-video-support/" target="_blank">supports HTML5
                                    video</a>
                            </p>
                        </video>
                        <div class="play-button"></div>
                    </li>
                    <li id="slider_container" style="display: none;">
                        <div id="sequence_num" style="margin-bottom: 2%;"> </div>
                        <div id="rank_slider" style="margin-left: 4%; margin-right:4%;">
                            <div id="rank_handle" class="ui-slider-handle" style="width: 3em;
                            height: 1.6em;
                            top: 50%;
                            margin-top: -.8em;
                            text-align: center;
                            line-height: 1.6em;"></div>
                        </div>
                    </li>
                </ul>
            </div>
            <div class="w3-third  w3-margin-bottom" style="height: 100%; padding-left: 20px;">
                <ul class="w3-ul w3-border w3-white w3-center" style="height: 100%;">
                    <li class="w3-large" style="background-color: #ce796b;color: #fff">Performance</li>
                    <li class="w3-padding-16" id="display_performance" style="height: 100%;display: none;">

                    </li>
                </ul>
            </div>
        </div>

        <div class="w3-row-padding w3-padding-16" style="padding-left: 85%;">
            <button class="w3-button w3-hover-grey w3-round-large w3-xlarge"
                style="background-color: #31708f; color: #fff;" id="back_button">Go Back</button>
        </div>
    </div>
</body>

</html>